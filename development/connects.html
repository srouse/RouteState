<!DOCTYPE html>
<html lang="en">
	<head>
		<title>Route State</title>

		<meta http-equiv="cache-control" content="max-age=0" />
		<meta http-equiv="cache-control" content="no-cache" />
		<meta http-equiv="expires" content="0" />
		<meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
		<meta http-equiv="pragma" content="no-cache" />
		<meta name="apple-mobile-web-app-capable" content="yes" />
		<meta name="apple-mobile-web-app-status-bar-style" content="white-translucent">
		<meta name="viewport" content="user-scalable=no,width=device-width,initial-scale=1.0,maximum-scale=1.0" />


		<script src="js/jquery.min.js"></script>
		<script src="../RouteState.js"></script>

		<script>

            var RS = RouteState;
			$(window).ready( function () {


                var route_config = {
                    page:{
                        weight:10,
                    },
                    child:{
                        weight:20,
                    },
                    grandchild:{
                        weight:50,
                        dependency:"child"
                    }
                };

                RS.config( route_config );
				RouteState.listenToHash(function( route ) {
                    //console.log( route );
                    RS.debug();
                });

			});
		</script>
	</head>
	<body>
        <div class="routestate_debug" style="position:absolute;right:0px;"></div>

        <div onClick="RS.replace({});">clear</div>
        <hr/>
		<div onClick="RS.merge({'page':'5'});">set page to 5</div>
        <div onClick="RS.merge({'page':'6'});">set page to 6</div>
        <div onClick="RS.merge({'page':false});">set page to false</div>
        <div onClick="RS.merge({'page':''});">set page to ""</div>
        <hr/>
        <div onClick="RS.merge({'child':'carl'}); ">set child to carl</div>
        <div onClick="RS.merge({'child':'doug'}); ">set child to doug</div>
        <div onClick="RS.merge({'page:child':'paul'}); ">set child to paul</div>
        <div onClick="RS.merge({'child':false}); ">clear child</div>
        <hr/>
        <div onClick="RS.merge({'child:grandchild':'blah'});">set grandchild to blah</div>
        <div onClick="RS.merge({'child.grandchild':'hoopla'});">set grandchild to hoopla</div>


	</body>
</html>
